<html>
<head>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.9.0/build/reset/reset-min.css">
	<link rel="stylesheet" href="tooltip.css" type="text/css" media="screen" title="no title" charset="utf-8">
	<script src="jquery.tooltip.js" type="text/javascript" charset="utf-8"></script>

    <style>
    .box {
        position: absolute;
        left: 10%;
        right: 10%;
        top: 10%;
        bottom: 10%;
        border: 1px dashed;
    }
    .tooltip {
        width: 300px;
    }
    </style>
</head>
<body>
	
    <div id="box" class="box">
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1">
		    <circle class="target" cx="50%" cy="50%" r="5" fill="#111">
        </svg>
    </div>

    <div id="overTooltip" class="tooltip">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
    </div>

    <div id="clickTooltip" class="tooltip">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
    </div>

	<script>

    function appendRandomClonesTo( targetSelector, appendToSelector ) {
        for ( var j = 0; j < 100; j++ ) {
            $( targetSelector ).eq( 0 ).clone( false ).attr({
                cy: Math.floor( Math.random() * $( "#box" ).height() ),
                cx: Math.floor( Math.random() * $( "#box" ).width() )
            }).appendTo( appendToSelector );
        }
        return this;
    }

    appendRandomClonesTo( ".target", "svg" );

	$( ".target" ).tooltip({
        $box: $( "#box" ),
        showOn: "mouseover",
        hideOn: "mouseout",
		$tooltip: $( "#overTooltip" ),
		beforeShowCallback: function( event, $target, $tooltip ) {
			// TODO something
            return true;
		}
	});
	$( ".target" ).tooltip({
        $box: $( "#box" ),
        showOn: "click",
        hideOn: "",
		$tooltip: $( "#clickTooltip" ),
        afterShowCallback: function( event, $target, $tooltip ) {
            event.stopPropagation();
            $( "#overTooltip" ).hide();
        }
    });

    $( window ).on( "click", function() {
        $( "#clickTooltip" ).hide();
    });

	</script>

</body>
</html>